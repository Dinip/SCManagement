@using Microsoft.AspNetCore.Identity
@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager
@inject IStringLocalizer<SharedResource> StringLocalizer

<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/calendar.css" asp-append-version="true" />
@if (SignInManager.IsSignedIn(User)){
     <div class="row mt-5 mb-5">
        <div>
        <div class="calendar-container">
          <div class="calendar"> 
            <div class="year-header"> 
              <span class="left-button" id="prev"> &lang; </span> 
              <span class="year" id="label"></span> 
              <span class="right-button" id="next"> &rang; </span>
            </div> 
            <table class="months-table"> 
              <tbody>
                <tr class="months-row">
                  <td class="month">Jan</td> 
                  <td class="month">Feb</td> 
                  <td class="month">Mar</td> 
                  <td class="month">Apr</td> 
                  <td class="month">May</td> 
                  <td class="month">Jun</td> 
                  <td class="month">Jul</td>
                  <td class="month">Aug</td> 
                  <td class="month">Sep</td> 
                  <td class="month">Oct</td>          
                  <td class="month">Nov</td>
                  <td class="month">Dec</td>
                </tr>
              </tbody>
            </table> 
        
            <table class="days-table"> 
              <td class="day">@StringLocalizer["Sun"]</td> 
              <td class="day">@StringLocalizer["Mon"]</td>
              <td class="day">@StringLocalizer["Tue"]</td>
              <td class="day">@StringLocalizer["Wed"]</td>
              <td class="day">@StringLocalizer["Thu"]</td>
              <td class="day">@StringLocalizer["Fri"]</td>
              <td class="day">@StringLocalizer["Sat"]</td>
            </table> 
            <div class="frame"> 
              <table class="dates-table"> 
                  <tbody class="tbody">             
                  </tbody> 
              </table>
            </div> 
            <button class="button" id="add-button">@StringLocalizer["AddEvent"]</button>
          </div>
        </div>
        <div class="events-container">
        </div>
        <div class="dialog" id="dialog">
                <h2 class="dialog-header"> @StringLocalizer["AddNewEvent"] </h2>
                <form class="form" id="form">
                  <div class="form-container" align="center">
                        <label class="form-label" id="valueFromMyButton" for="name">@StringLocalizer["EventName"]</label>
                    <input class="input" type="text" id="name" maxlength="36">
                    <label class="form-label" id="valueFromMyButton" for="count">@StringLocalizer["NumberInvite"]</label>
                    <input class="input" type="number" id="count" min="0" max="1000000" maxlength="7">
                    <input type="button" value="Cancel" class="button" id="cancel-button">
                    <input type="button" value="OK" class="button" id="ok-button">
                  </div>
                </form>
          </div>
          </div>
     </div>
}else{
    <div class="row align-items-center mt-xl-5">
        <p class="col-md-4 col-lg-6 text-to-dark" style="text-align:center"> @StringLocalizer["NotDone"]</p>
        <img src="~/img/under-construction-png_667893.png" class="col-md-4 col-lg-6" alt="NotDone" />
    </div>
}
<script src="~/lib/jquery/dist/jquery.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.4/index.global.min.js'></script>
<script src="~/js/calendar.js" asp-append-version="true"></script>
<script>
    var strings = {
        "noEvents": '@Html.Raw(StringLocalizer["NoEvents"].Value.ToString())',
    };
      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: 'dayGridMonth'
        });
        calendar.render();
      });

</script>